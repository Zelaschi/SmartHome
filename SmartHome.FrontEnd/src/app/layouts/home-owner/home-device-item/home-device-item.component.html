<div *ngIf="homeDevice" class="card device-item" style="width: 18rem;">
    <div class="card-img-top image-container">
        <app-photos-carousel 
            *ngIf="homeDevice?.photos && homeDevice.photos.length > 0"
            [photos]="homeDevice.photos">
        </app-photos-carousel>
    </div>
    <div class="card-body d-flex flex-column">
        <h5 class="card-title">{{ homeDevice.name }}</h5>
        
        <div class="device-info">
            <p class="card-text mb-1">Device Type: {{ homeDevice.type }}</p>
            <p class="card-text mb-1">Online: {{ homeDevice.online }}</p>
            <p class="card-text mb-1" *ngIf="homeDevice.isOn !== null">Is on?: {{ homeDevice.isOn }}</p>
            <p class="card-text mb-1" *ngIf="homeDevice.open !== null">Is open?: {{ homeDevice.open }}</p>
            <p class="card-text mb-1" *ngIf="homeDevice.room">Room: {{ homeDevice.room }}</p>
        </div>
        
        <div class="mt-auto">
            <button class="btn btn-secondary btn-sm mb-1 w-100" (click)="ChangeHomeDeviceName(homeDevice.hardwardId)">Change name</button>
            <button class="btn btn-secondary btn-sm mb-1 w-100" (click)="CreateNotification(homeDevice.hardwardId)">Create notification</button>
            <button *ngIf="isAddingToRoom" (click)="addDeviceToRoom()" class="btn btn-primary btn-sm w-100">Add to Room</button>
        </div>
        <ng-content></ng-content>
    </div>
</div>

<div *ngIf="showHomeDeviceNameForm">
    <app-home-device-name
        [homeDeviceId]="homeDevice?.hardwardId ?? null"
        (homeDeviceNameUpdated)="onHomeDeviceNameUpdated($event)">
    </app-home-device-name>
</div>

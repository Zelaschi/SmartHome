<div *ngIf="homeDevice" class="card mx-auto" style="max-width: 350px; min-width: 350px;">
    <div class="card-img-top position-relative">
        <app-photos-carousel 
            *ngIf="homeDevice?.photos && homeDevice.photos.length > 0"
            [photos]="homeDevice.photos"
            class="device-carousel">
        </app-photos-carousel>
    </div>
    <div class="card-body d-flex flex-column">
        <h5 class="card-title text-center mb-3">{{ homeDevice.name }}</h5>
        
        <div class="device-info px-2">
            <p class="card-text mb-2">Device Type: {{ homeDevice.type }}</p>
            <p class="card-text mb-2">Model: {{ homeDevice.device }}</p>
            <p class="card-text mb-2">Online: {{ homeDevice.online ? 'Yes' : 'No' }}</p>
            <p class="card-text mb-2" *ngIf="homeDevice.isOn !== null">Is on?: {{ homeDevice.isOn ? 'Yes' : 'No' }}</p>
            <p class="card-text mb-2" *ngIf="homeDevice.open !== null">Is open?: {{ homeDevice.open ? 'Yes' : 'No' }}</p>
            <p class="card-text mb-2" *ngIf="homeDevice.room">Room: {{ homeDevice.room }}</p>
        </div>

        <div *ngIf="successMessage" class="mt-3">
            <div class="alert alert-success" *ngIf="successMessage !== ''">
                <p class="mb-0">{{ successMessage }}</p>
            </div>
        </div>
        
        <div *ngIf="errorMessage" class="mt-3">
            <div class="alert alert-danger" *ngIf="errorMessage !== ''">
                <p class="mb-0">{{ errorMessage }}</p>
            </div>
        </div>

        <div *ngIf="showHomeDeviceNameForm" class="position-absolute start-0 end-0 bg-white p-3" 
             style="z-index: 1000; top: 50%; transform: translateY(-50%); box-shadow: 0 0 10px rgba(0,0,0,0.1);">
            <app-home-device-name
                [homeDeviceId]="homeDevice?.hardwardId ?? null"
                (homeDeviceNameUpdated)="onHomeDeviceNameUpdated($event)">
            </app-home-device-name>
        </div>
        
        <div class="mt-auto pt-3">
            <button class="btn btn-secondary btn-sm mb-2 w-100" (click)="ChangeHomeDeviceName(homeDevice.hardwardId)">Change name</button>
            <button class="btn btn-secondary btn-sm mb-2 w-100" (click)="CreateNotification(homeDevice.hardwardId)">Create notification</button>
            <button *ngIf="isAddingToRoom" (click)="addDeviceToRoom()" class="btn btn-secondary btn-sm mb-2 w-100">Add to Room</button>
        </div>
        <ng-content></ng-content>
    </div>
</div>
